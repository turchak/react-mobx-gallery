(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{124:function(t,e,n){},125:function(t,e,n){},126:function(t,e,n){"use strict";n.r(e);var a=n(0),o=n.n(a),l=n(7),i=n.n(l),s=n(16),r=n(8),c=n(11),u=n(13),h=n(12),m=n(14),p=n(49),d=n.n(p),b=(n(79),function(t){function e(){var t,n;Object(r.a)(this,e);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(n=Object(u.a)(this,(t=Object(h.a)(e)).call.apply(t,[this].concat(o)))).handleChange=function(t){console.log(t)},n}return Object(m.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return a.createElement("header",{className:"header"},a.createElement(d.a,{placeholder:"Search",view:"line",size:"l",onChange:this.handleChange}))}}]),e}(a.Component)),f=(n(80),function(t){return o.a.createElement("footer",{className:"footer"})}),g=(n(23),n(50)),v=n.n(g),j=n(18),O=n.n(j),w=n(1),y=(n(120),n(124),function(t){function e(){var t,n;Object(r.a)(this,e);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(n=Object(u.a)(this,(t=Object(h.a)(e)).call.apply(t,[this].concat(o)))).state={images:[],isValid:!1},n}return Object(m.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){var t=this,e=this.props.album,n=[];new Promise(function(t,a){e.photos.map(function(a){var o=new Image(150,150);return o.src=a.thumbnailUrl,o.onload=function(){n.push(o),n.length===e.photos.length&&t(n)},o})}).then(function(e){return t.setState({isValid:!0})})}},{key:"componentDidUpdate",value:function(t,e){var n=this;if(t.album.id!==this.props.album.id){this.setState({isValid:!1});var a=this.props.album,o=[];new Promise(function(t,e){a.photos.map(function(e){var n=new Image(150,150);n.src=e.thumbnailUrl,n.onload=function(){o.push(n),o.length===a.photos.length&&t(o)}})}).then(function(t){return n.setState({isValid:!0})})}}},{key:"render",value:function(){var t=this.props.album;return this.state.isValid?a.createElement("ul",{className:"gallery"},t.photos.map(function(t){return a.createElement("li",{key:t.id,className:"gallery__item"},a.createElement("img",{src:t.thumbnailUrl,alt:t.title}))})):a.createElement(O.a,{size:"l",visible:!0,className:"loader"})}}]),e}(a.Component)),E=function(t){function e(){var t,n;Object(r.a)(this,e);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(n=Object(u.a)(this,(t=Object(h.a)(e)).call.apply(t,[this].concat(o)))).iteration=0,n.handleChange=function(t){(0,n.props.setAlbumId)(t[0]),console.log(t)},n}return Object(m.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){(0,this.props.fetchData)()}},{key:"render",value:function(){var t=this.props,e=t.isLoading,n=t.selectOptions,o=t.isValid,l=t.album;return console.log(Object(w.n)(l)),o?a.createElement("main",{className:"container"},a.createElement(v.a,{mode:"radio-check",hideTick:!0,placeholder:"Choose Album",options:n,onChange:this.handleChange,className:"select"}),l?a.createElement(y,{album:l}):null):e?a.createElement(O.a,{size:"l",visible:!0,className:"loader"}):null}}]),e}(a.Component);Object(w.g)(E,{iteration:w.l});var k=Object(s.b)(function(t,e,n){console.log(t);var a=t.appStore.photos.albums.map(function(t){return{value:t.id,text:"Album - #".concat(t.id)}});return{isLoading:t.appStore.isLoading,fetchData:t.appStore.fetchData,setAlbumId:t.appStore.setAlbumId,album:t.appStore.album,photos:t.appStore.photos.albums,isValid:t.appStore.isValid,selectOptions:a}})(Object(s.c)(E)),I=function(t){return o.a.createElement(o.a.Fragment,null,o.a.createElement(b,null),o.a.createElement(k,null),o.a.createElement(f,null))},S=function t(){var e=this;Object(r.a)(this,t),this.photos={albums:[]},this.part=[],this.iteration=0,this.isLoading=!1,this.isValid=!1,this.albumId=null,this.album=null,this.fetchData=function(){e.isLoading=!0,fetch("https://jsonplaceholder.typicode.com/photos").then(function(t){return t.json()}).then(function(t){Object(w.d)(function(){e.photos=t.reduce(function(t,e){return t.albums.length||(t.albums.push({id:e.albumId}),t.albums[t.albums.length-1].photos=[]),t.albums[t.albums.length-1].id!==e.albumId&&(t.albums.push({id:e.albumId}),t.albums[t.albums.length-1].photos=[]),t.albums[t.albums.length-1].photos.push({id:e.id,url:e.url,title:e.title,thumbnailUrl:e.thumbnailUrl}),t},{albums:[]}),e.isLoading=!1,e.isValid=!0})()}).catch(function(t){e.isLoading=!1,console.log(t)})},this.setAlbumId=function(t){e.albumId=t,e.album=e.photos.albums.filter(function(e){return e.id===t})[0]},this.getPart=function(t,n){e.part=e.photos.slice(t,n)}};Object(w.g)(S,{iteration:w.l,albumId:w.l,album:w.l,isValid:w.l,part:w.l,photos:w.l,isLoading:w.l,fetchData:w.d,getPart:w.d});var V=new S;n(125),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var C={appStore:V};i.a.render(o.a.createElement(s.a,C,o.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},51:function(t,e,n){t.exports=n(126)},79:function(t,e,n){},80:function(t,e,n){}},[[51,1,2]]]);
//# sourceMappingURL=main.096d789f.chunk.js.map